{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.email-input'),\n  textarea: document.querySelector('.message-input'),\n  btn: document.querySelector('.btn-submit'),\n};\nconst STORAGE_KEY = 'feedback-form-state';\n\nsavedTextarea();\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormInput);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  if (refs.textarea.value === '' || refs.email.value === '') {\n    return alert('Заполните все поля');\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  console.log({\n    email: refs.email.value,\n    message: refs.textarea.value,\n  });\n  evt.currentTarget.reset();\n}\nfunction onFormInput(evt) {\n  const email = refs.email.value;\n  const message = refs.textarea.value;\n  const formData = {\n    email: email,\n    message: message,\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\nfunction savedTextarea() {\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n  if (savedMessage) {\n    const parseMessage = JSON.parse(savedMessage).message;\n    refs.textarea.value = parseMessage;\n  }\n\n  if (savedMessage) {\n    const parseEmail = JSON.parse(savedMessage).email;\n    refs.email.value = parseEmail;\n  }\n}\n"],"names":["refs","STORAGE_KEY","savedTextarea","onFormSubmit","onFormInput","evt","email","message","formData","savedMessage","parseMessage","parseEmail"],"mappings":"wFAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,cAAc,EAC5C,SAAU,SAAS,cAAc,gBAAgB,EACjD,IAAK,SAAS,cAAc,aAAa,CAC3C,EACMC,EAAc,sBAEpBC,IACAF,EAAK,KAAK,iBAAiB,SAAUG,CAAY,EACjDH,EAAK,KAAK,iBAAiB,QAASI,CAAW,EAE/C,SAASD,EAAaE,EAAK,CAEzB,GADAA,EAAI,eAAc,EACdL,EAAK,SAAS,QAAU,IAAMA,EAAK,MAAM,QAAU,GACrD,OAAO,MAAM,oBAAoB,EAGnC,aAAa,WAAWC,CAAW,EACnC,QAAQ,IAAI,CACV,MAAOD,EAAK,MAAM,MAClB,QAASA,EAAK,SAAS,KAC3B,CAAG,EACDK,EAAI,cAAc,OACpB,CACA,SAASD,EAAYC,EAAK,CACxB,MAAMC,EAAQN,EAAK,MAAM,MACnBO,EAAUP,EAAK,SAAS,MACxBQ,EAAW,CACf,MAAOF,EACP,QAASC,CACb,EACE,aAAa,QAAQN,EAAa,KAAK,UAAUO,CAAQ,CAAC,CAC5D,CACA,SAASN,GAAgB,CACvB,MAAMO,EAAe,aAAa,QAAQR,CAAW,EAErD,GAAIQ,EAAc,CAChB,MAAMC,EAAe,KAAK,MAAMD,CAAY,EAAE,QAC9CT,EAAK,SAAS,MAAQU,CACvB,CAED,GAAID,EAAc,CAChB,MAAME,EAAa,KAAK,MAAMF,CAAY,EAAE,MAC5CT,EAAK,MAAM,MAAQW,CACpB,CACH"}